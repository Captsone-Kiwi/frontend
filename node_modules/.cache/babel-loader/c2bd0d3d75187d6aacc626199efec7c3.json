{"ast":null,"code":"var _jsxFileName = \"/Users/100s/Documents/GitHub/frontend/src/pages/SignUp/PasswordStr.js\";\nimport React, { Component } from \"react\";\nimport SignUpForm from \"./SignUpForm.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst axios = require(\"axios\");\n\nconst FormValidators = require(\"./validate\");\n\nconst validateSignUpForm = FormValidators.validateSignUpForm;\n\nconst zxcvbn = require(\"zxcvbn\");\n\nclass SignUpContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      errors: {},\n      user: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        pwconfirm: \"\"\n      },\n      btnTxt: \"show\",\n      type: \"password\",\n      score: \"0\"\n    };\n    this.pwMask = this.pwMask.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.submitSignup = this.submitSignup.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n    this.pwHandleChange = this.pwHandleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n    this.setState({\n      user\n    });\n  }\n\n  pwHandleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n    this.setState({\n      user\n    });\n\n    if (event.target.value === \"\") {\n      this.setState(state => Object.assign({}, state, {\n        score: \"null\"\n      }));\n    } else {\n      var pw = zxcvbn(event.target.value);\n      this.setState(state => Object.assign({}, state, {\n        score: pw.score + 1\n      }));\n    }\n  }\n\n  submitSignup(user) {\n    var params = {\n      username: user.usr,\n      password: user.pw,\n      email: user.email\n    };\n    axios.post(\"https://ouramazingserver.com/api/signup/submit\", params).then(res => {\n      if (res.data.success === true) {\n        localStorage.token = res.data.token;\n        localStorage.isAuthenticated = true;\n        window.location.reload();\n      } else {\n        this.setState({\n          errors: {\n            message: res.data.message\n          }\n        });\n      }\n    }).catch(err => {\n      console.log(\"Sign up data submit error: \", err);\n    });\n  }\n\n  validateForm(event) {\n    event.preventDefault();\n    var payload = validateSignUpForm(this.state.user);\n\n    if (payload.success) {\n      this.setState({\n        errors: {}\n      });\n      var user = {\n        usr: this.state.user.username,\n        pw: this.state.user.password,\n        email: this.state.user.email\n      };\n      this.submitSignup(user);\n    } else {\n      const errors = payload.errors;\n      this.setState({\n        errors\n      });\n    }\n  }\n\n  pwMask(event) {\n    event.preventDefault();\n    this.setState(state => Object.assign({}, state, {\n      type: this.state.type === \"password\" ? \"input\" : \"password\",\n      btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n    }));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(SignUpForm, {\n        onSubmit: this.validateForm,\n        onChange: this.handleChange,\n        onPwChange: this.pwHandleChange,\n        errors: this.state.errors,\n        user: this.state.user,\n        score: this.state.score,\n        btnTxt: this.state.btnTxt,\n        type: this.state.type,\n        pwMask: this.pwMask\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nmodule.exports = SignUpContainer;","map":{"version":3,"sources":["/Users/100s/Documents/GitHub/frontend/src/pages/SignUp/PasswordStr.js"],"names":["React","Component","SignUpForm","axios","require","FormValidators","validateSignUpForm","zxcvbn","SignUpContainer","constructor","props","state","errors","user","username","email","password","pwconfirm","btnTxt","type","score","pwMask","bind","handleChange","submitSignup","validateForm","pwHandleChange","event","field","target","name","value","setState","Object","assign","pw","params","usr","post","then","res","data","success","localStorage","token","isAuthenticated","window","location","reload","message","catch","err","console","log","preventDefault","payload","render","module","exports"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport SignUpForm from \"./SignUpForm.js\";\nconst axios = require(\"axios\");\nconst FormValidators = require(\"./validate\");\nconst validateSignUpForm = FormValidators.validateSignUpForm;\nconst zxcvbn = require(\"zxcvbn\");\n\nclass SignUpContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      errors: {},\n      user: {\n        username: \"\",\n        email: \"\",\n        password: \"\",\n        pwconfirm: \"\"\n      },\n      btnTxt: \"show\",\n      type: \"password\",\n      score: \"0\"\n    };\n\n    this.pwMask = this.pwMask.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.submitSignup = this.submitSignup.bind(this);\n    this.validateForm = this.validateForm.bind(this);\n    this.pwHandleChange = this.pwHandleChange.bind(this);\n  }\n\n  handleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n\n    this.setState({\n      user\n    });\n  }\n\n  pwHandleChange(event) {\n    const field = event.target.name;\n    const user = this.state.user;\n    user[field] = event.target.value;\n\n    this.setState({\n      user\n    });\n\n    if (event.target.value === \"\") {\n      this.setState(state =>\n        Object.assign({}, state, {\n          score: \"null\"\n        })\n      );\n    } else {\n      var pw = zxcvbn(event.target.value);\n      this.setState(state =>\n        Object.assign({}, state, {\n          score: pw.score + 1\n        })\n      );\n    }\n  }\n\n  submitSignup(user) {\n    var params = { username: user.usr, password: user.pw, email: user.email };\n    axios\n      .post(\"https://ouramazingserver.com/api/signup/submit\", params)\n      .then(res => {\n        if (res.data.success === true) {\n          localStorage.token = res.data.token;\n          localStorage.isAuthenticated = true;\n          window.location.reload();\n        } else {\n          this.setState({\n            errors: { message: res.data.message }\n          });\n        }\n      })\n      .catch(err => {\n        console.log(\"Sign up data submit error: \", err);\n      });\n  }\n\n  validateForm(event) {\n    event.preventDefault();\n    var payload = validateSignUpForm(this.state.user);\n    if (payload.success) {\n      this.setState({\n        errors: {}\n      });\n      var user = {\n        usr: this.state.user.username,\n        pw: this.state.user.password,\n        email: this.state.user.email\n      };\n      this.submitSignup(user);\n    } else {\n      const errors = payload.errors;\n      this.setState({\n        errors\n      });\n    }\n  }\n\n  pwMask(event) {\n    event.preventDefault();\n    this.setState(state =>\n      Object.assign({}, state, {\n        type: this.state.type === \"password\" ? \"input\" : \"password\",\n        btnTxt: this.state.btnTxt === \"show\" ? \"hide\" : \"show\"\n      })\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <SignUpForm\n          onSubmit={this.validateForm}\n          onChange={this.handleChange}\n          onPwChange={this.pwHandleChange}\n          errors={this.state.errors}\n          user={this.state.user}\n          score={this.state.score}\n          btnTxt={this.state.btnTxt}\n          type={this.state.type}\n          pwMask={this.pwMask}\n        />\n      </div>\n    );\n  }\n}\n\nmodule.exports = SignUpContainer;\n"]},"metadata":{},"sourceType":"module"}