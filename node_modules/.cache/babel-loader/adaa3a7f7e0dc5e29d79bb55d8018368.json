{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  (0, _assertString2.default)(str);\n  version = String(version);\n\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    } // initial or final ::\n\n\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {// it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n\n    return blocks.length === expectedNumberOfBlocks;\n  }\n\n  return false;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/100s/Documents/GitHub/frontend/node_modules/validator/lib/isIP.js"],"names":["Object","defineProperty","exports","value","default","isIP","_assertString","require","_assertString2","_interopRequireDefault","obj","__esModule","ipv4Maybe","ipv6Block","str","version","arguments","length","undefined","String","test","parts","split","sort","a","b","blocks","foundOmissionBlock","foundIPv4TransitionBlock","expectedNumberOfBlocks","substr","shift","pop","i","module"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isIP;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar ipv4Maybe = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\nvar ipv6Block = /^[0-9A-F]{1,4}$/i;\n\nfunction isIP(str) {\n  var version = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n  (0, _assertString2.default)(str);\n  version = String(version);\n  if (!version) {\n    return isIP(str, 4) || isIP(str, 6);\n  } else if (version === '4') {\n    if (!ipv4Maybe.test(str)) {\n      return false;\n    }\n    var parts = str.split('.').sort(function (a, b) {\n      return a - b;\n    });\n    return parts[3] <= 255;\n  } else if (version === '6') {\n    var blocks = str.split(':');\n    var foundOmissionBlock = false; // marker to indicate ::\n\n    // At least some OS accept the last 32 bits of an IPv6 address\n    // (i.e. 2 of the blocks) in IPv4 notation, and RFC 3493 says\n    // that '::ffff:a.b.c.d' is valid for IPv4-mapped IPv6 addresses,\n    // and '::a.b.c.d' is deprecated, but also valid.\n    var foundIPv4TransitionBlock = isIP(blocks[blocks.length - 1], 4);\n    var expectedNumberOfBlocks = foundIPv4TransitionBlock ? 7 : 8;\n\n    if (blocks.length > expectedNumberOfBlocks) {\n      return false;\n    }\n    // initial or final ::\n    if (str === '::') {\n      return true;\n    } else if (str.substr(0, 2) === '::') {\n      blocks.shift();\n      blocks.shift();\n      foundOmissionBlock = true;\n    } else if (str.substr(str.length - 2) === '::') {\n      blocks.pop();\n      blocks.pop();\n      foundOmissionBlock = true;\n    }\n\n    for (var i = 0; i < blocks.length; ++i) {\n      // test for a :: which can not be at the string start/end\n      // since those cases have been handled above\n      if (blocks[i] === '' && i > 0 && i < blocks.length - 1) {\n        if (foundOmissionBlock) {\n          return false; // multiple :: in address\n        }\n        foundOmissionBlock = true;\n      } else if (foundIPv4TransitionBlock && i === blocks.length - 1) {\n        // it has been checked before that the last\n        // block is a valid IPv4 address\n      } else if (!ipv6Block.test(blocks[i])) {\n        return false;\n      }\n    }\n    if (foundOmissionBlock) {\n      return blocks.length >= 1;\n    }\n    return blocks.length === expectedNumberOfBlocks;\n  }\n  return false;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}