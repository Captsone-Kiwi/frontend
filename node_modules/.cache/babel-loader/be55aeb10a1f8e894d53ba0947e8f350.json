{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\nfunction isISIN(str) {\n  (0, _assertString2.default)(str);\n\n  if (!isin.test(str)) {\n    return false;\n  }\n\n  var checksumStr = str.replace(/[A-Z]/g, function (character) {\n    return parseInt(character, 36);\n  });\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = true;\n\n  for (var i = checksumStr.length - 2; i >= 0; i--) {\n    digit = checksumStr.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n\n    if (shouldDouble) {\n      tmpNum *= 2;\n\n      if (tmpNum >= 10) {\n        sum += tmpNum + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n\n    shouldDouble = !shouldDouble;\n  }\n\n  return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;\n}\n\nmodule.exports = exports['default'];","map":{"version":3,"sources":["/Users/100s/Documents/GitHub/frontend/node_modules/validator/lib/isISIN.js"],"names":["Object","defineProperty","exports","value","default","isISIN","_assertString","require","_assertString2","_interopRequireDefault","obj","__esModule","isin","str","test","checksumStr","replace","character","parseInt","sum","digit","tmpNum","shouldDouble","i","length","substring","substr","module"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,EAAAA,KAAK,EAAE;AADoC,CAA7C;AAGAD,OAAO,CAACE,OAAR,GAAkBC,MAAlB;;AAEA,IAAIC,aAAa,GAAGC,OAAO,CAAC,qBAAD,CAA3B;;AAEA,IAAIC,cAAc,GAAGC,sBAAsB,CAACH,aAAD,CAA3C;;AAEA,SAASG,sBAAT,CAAgCC,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEN,IAAAA,OAAO,EAAEM;AAAX,GAArC;AAAwD;;AAE/F,IAAIE,IAAI,GAAG,4BAAX;;AAEA,SAASP,MAAT,CAAgBQ,GAAhB,EAAqB;AACnB,GAAC,GAAGL,cAAc,CAACJ,OAAnB,EAA4BS,GAA5B;;AACA,MAAI,CAACD,IAAI,CAACE,IAAL,CAAUD,GAAV,CAAL,EAAqB;AACnB,WAAO,KAAP;AACD;;AAED,MAAIE,WAAW,GAAGF,GAAG,CAACG,OAAJ,CAAY,QAAZ,EAAsB,UAAUC,SAAV,EAAqB;AAC3D,WAAOC,QAAQ,CAACD,SAAD,EAAY,EAAZ,CAAf;AACD,GAFiB,CAAlB;AAIA,MAAIE,GAAG,GAAG,CAAV;AACA,MAAIC,KAAK,GAAG,KAAK,CAAjB;AACA,MAAIC,MAAM,GAAG,KAAK,CAAlB;AACA,MAAIC,YAAY,GAAG,IAAnB;;AACA,OAAK,IAAIC,CAAC,GAAGR,WAAW,CAACS,MAAZ,GAAqB,CAAlC,EAAqCD,CAAC,IAAI,CAA1C,EAA6CA,CAAC,EAA9C,EAAkD;AAChDH,IAAAA,KAAK,GAAGL,WAAW,CAACU,SAAZ,CAAsBF,CAAtB,EAAyBA,CAAC,GAAG,CAA7B,CAAR;AACAF,IAAAA,MAAM,GAAGH,QAAQ,CAACE,KAAD,EAAQ,EAAR,CAAjB;;AACA,QAAIE,YAAJ,EAAkB;AAChBD,MAAAA,MAAM,IAAI,CAAV;;AACA,UAAIA,MAAM,IAAI,EAAd,EAAkB;AAChBF,QAAAA,GAAG,IAAIE,MAAM,GAAG,CAAhB;AACD,OAFD,MAEO;AACLF,QAAAA,GAAG,IAAIE,MAAP;AACD;AACF,KAPD,MAOO;AACLF,MAAAA,GAAG,IAAIE,MAAP;AACD;;AACDC,IAAAA,YAAY,GAAG,CAACA,YAAhB;AACD;;AAED,SAAOJ,QAAQ,CAACL,GAAG,CAACa,MAAJ,CAAWb,GAAG,CAACW,MAAJ,GAAa,CAAxB,CAAD,EAA6B,EAA7B,CAAR,KAA6C,CAAC,QAAQL,GAAT,IAAgB,EAApE;AACD;;AACDQ,MAAM,CAACzB,OAAP,GAAiBA,OAAO,CAAC,SAAD,CAAxB","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = isISIN;\n\nvar _assertString = require('./util/assertString');\n\nvar _assertString2 = _interopRequireDefault(_assertString);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar isin = /^[A-Z]{2}[0-9A-Z]{9}[0-9]$/;\n\nfunction isISIN(str) {\n  (0, _assertString2.default)(str);\n  if (!isin.test(str)) {\n    return false;\n  }\n\n  var checksumStr = str.replace(/[A-Z]/g, function (character) {\n    return parseInt(character, 36);\n  });\n\n  var sum = 0;\n  var digit = void 0;\n  var tmpNum = void 0;\n  var shouldDouble = true;\n  for (var i = checksumStr.length - 2; i >= 0; i--) {\n    digit = checksumStr.substring(i, i + 1);\n    tmpNum = parseInt(digit, 10);\n    if (shouldDouble) {\n      tmpNum *= 2;\n      if (tmpNum >= 10) {\n        sum += tmpNum + 1;\n      } else {\n        sum += tmpNum;\n      }\n    } else {\n      sum += tmpNum;\n    }\n    shouldDouble = !shouldDouble;\n  }\n\n  return parseInt(str.substr(str.length - 1), 10) === (10000 - sum) % 10;\n}\nmodule.exports = exports['default'];"]},"metadata":{},"sourceType":"script"}